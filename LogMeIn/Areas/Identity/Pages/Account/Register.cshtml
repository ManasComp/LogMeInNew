@page
@model RegisterModel


<div class="card shadow border-0 mt-4">
    <div class="card-header bg-secondary bg-gradient ml-0 py-4">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="py-2 text-white">Registrace</h2>
            </div>
        </div>
    </div>
    <div class="card-body p-4">
        <div class="row pt-3">
            <div class="col-md-12">
                <form id="registerForm" class="row" asp-route-returnUrl="@Model.ReturnUrl" method="post">
                    <div asp-validation-summary="ModelOnly" class="text-danger" role="alert"></div>
                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.FirstName" class="form-control" placeholder="name@example.com" autocomplete="given-name"/>
                        <label asp-for="Input.User.FirstName" class="ms-2 my_text_muted">Křestní jméno (např. Jan)</label>
                        <span asp-validation-for="Input.User.FirstName" class="text-danger"></span>
                    </div>
                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.LastName" class="form-control" placeholder="name@example.com" autocomplete="family-name"/>
                        <label asp-for="Input.User.LastName" class="ms-2 my_text_muted">Přijmení (např. Novotný)</label>
                        <span asp-validation-for="Input.User.LastName" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-12">
                        <input asp-for="Input.User.Country" class="form-control" autocomplete="country" aria-required="true" placeholder="name@example.com"/>
                        <label asp-for="Input.User.Country" class="ms-2 my_text_muted">Země (CZ)</label>
                        <span asp-validation-for="Input.User.Country" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.Street" class="form-control" placeholder="name@example.com" autocomplete="street-address"/>
                        <label asp-for="Input.User.Street" class="ms-2 my_text_muted">Ulice (např. Kočičí)</label>
                        <span asp-validation-for="Input.User.Street" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.ZipCode" class="form-control" placeholder="name@example.com" autocomplete="postal-code"/>
                        <label asp-for="Input.User.ZipCode" class="ms-2 my_text_muted">PSČ (např. 602 00)</label>
                        <span asp-validation-for="Input.User.ZipCode" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.City" class="form-control" placeholder="name@example.com" autocomplete="address-level2"/>
                        <label asp-for="Input.User.City" class="ms-2 my_text_muted">Město (např. Brno)</label>
                        <span asp-validation-for="Input.User.City" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.HouseNumber" class="form-control" autocomplete="address-level3"/>
                        <label asp-for="Input.User.HouseNumber" class="ms-2 my_text_muted">Číslo domu</label>
                        <span asp-validation-for="Input.User.HouseNumber" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input type="date" value="@(new DateTime())" asp-for="Input.User.DateOfBirth" class="form-control" autocomplete="bday"/>
                        <label asp-for="Input.User.DateOfBirth" class="ms-2 my_text_muted">Datum narození</label>
                        <span asp-validation-for="Input.User.DateOfBirth" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input type="tel" asp-for="Input.User.PhoneNumber" class="form-control" placeholder="name@example.com" autocomplete="tel"/>
                        <label asp-for="Input.User.PhoneNumber" class="ms-2 my_text_muted">Telefonní číslo (např. 777 666 555)</label>
                        <span asp-validation-for="Input.User.PhoneNumber" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.Organization" class="form-control" placeholder="name@example.com"/>
                        <label asp-for="Input.User.Organization" class="ms-2 my_text_muted">Organizace (např. Kočky Brno)</label>
                        <span asp-validation-for="Input.User.Organization" class="text-danger"></span>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.User.MemberNumber" class="form-control" placeholder="name@example.com"/>
                        <label asp-for="Input.User.MemberNumber" class="ms-2 my_text_muted">Číslo průkazu (napč. 1235456)</label>
                        <span asp-validation-for="Input.User.MemberNumber" class="text-danger"></span>
                    </div>


                    <div class="form-floating mb-3 col-md-12">
                        <input asp-for="Input.Email" class="form-control" autocomplete="email" aria-required="true" placeholder="name@example.com"/>
                        <label asp-for="Input.Email" class="ms-2 my_text_muted">Email (např. jan@gmail.com)</label>
                        <span asp-validation-for="Input.Email" class="text-danger"></span>
                    </div>


                    <div id="password" class="mb-3 col-md-6 d-flex align-items-center">
                        <div class="form-floating col">
                            <input asp-for="Input.Password" class="form-control" autocomplete="new-password" aria-required="true" placeholder="password"/>
                            <label asp-for="Input.Password" class="ms-2 my_text_muted">Heslo</label>
                            <span asp-validation-for="Input.Password" class="text-danger"></span>
                        </div>
                        <a href="#" class="col-md-1 text-center">
                            <btn class="btn btn-outline-secondary border-0">
                                <i class="bi bi-eye h2" aria-hidden="true"></i>
                            </btn>
                        </a>
                    </div>

                    <div class="form-floating mb-3 col-md-6">
                        <input asp-for="Input.ConfirmPassword" class="form-control" autocomplete="new-password" aria-required="true" placeholder="password"/>
                        <label asp-for="Input.ConfirmPassword" class="ms-2 my_text_muted">Potvrzení hesla</label>
                        <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                    </div>

                    Registrací souhlasíte s posytnutím osobních údajů. Tyto údaje budou uloženy na serveru a budou předány případným organizátorům výstav.
                    <div class="col-12">
                        <button id="registerSubmit" type="submit" class="w-100 btn btn-lg btn-primary">Registruj mě!</button>
                    </div>
                </form>
            </div>
            @* <div class="col-md-12"> *@
            @*     <section> *@
            @*         <p class="divider-text d-flex pt-3">or</p> *@
            @*         <h3>Use another service to register.</h3> *@
            @* *@
            @*         @{ *@
            @*             if ((Model.ExternalLogins?.Count ?? 0) == 0) *@
            @*             { *@
            @*                 <div> *@
            @*                     <p> *@
            @*                         There are no external authentication services configured. See this *@
            @*                         <a href="https://go.microsoft.com/fwlink/?LinkID=532715"> *@
            @*                             article *@
            @*                             about setting up this ASP.NET application to support logging in via external services *@
            @*                         </a>. *@
            @*                     </p> *@
            @*                 </div> *@
            @*             } *@
            @*             else *@
            @*             { *@
            @*                 <form id="external-account" asp-page="./ExternalLogin" asp-route-returnUrl="@Model.ReturnUrl" method="post" class="form-horizontal"> *@
            @*                     <div> *@
            @*                         <p> *@
            @*                             @foreach (var provider in Model.ExternalLogins!) *@
            @*                             { *@
            @*                                 <button type="submit" class="btn btn-primary" name="provider" value="@provider.Name" title="Log in using your @provider.DisplayName account">@provider.DisplayName</button> *@
            @*                             } *@
            @*                         </p> *@
            @*                     </div> *@
            @*                 </form> *@
            @*             } *@
            @*         } *@
            @*     </section> *@
            @* </div> *@
        </div>
    </div>
</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial"/>

    <script>
        $(document).ready(function() {
            $("#password a").on('click', function(event) {
                event.preventDefault();
                var passwordInput = $('#password input');
                var passwordIcon = $('#password i');
                
                if (passwordInput.attr("type") === "text") {
                    passwordInput.attr('type', 'password');
                    passwordIcon.addClass("bi-eye-slash");
                    passwordIcon.removeClass("bi-eye");
                } else if (passwordInput.attr("type") === "password") {
                    passwordInput.attr('type', 'text');
                    passwordIcon.removeClass("bi-eye-slash");
                    passwordIcon.addClass("bi-eye");
                }
            });
        });
    </script>
}